(self["webpackChunkproject_v2"]=self["webpackChunkproject_v2"]||[]).push([[5218],{21885:function(t,e,n){var i=n(87725);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var a=n(56).Z;a("3d1fecd6",i,!0,{sourceMap:!1,shadowMode:!1})},61864:function(t,e,n){var i=n(50531);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var a=n(56).Z;a("296f67f4",i,!0,{sourceMap:!1,shadowMode:!1})},78633:function(t,e,n){var i=n(65372);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);var a=n(56).Z;a("29f2f439",i,!0,{sourceMap:!1,shadowMode:!1})},97531:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return g}});var i,a={mescrollBody:n(40398).Z,uScrollList:n(34734).Z,"u-Text":n(20309).Z,uIcon:n(28317).Z,uCell:n(76952).Z,uAvatar:n(49210).Z,uEmpty:n(8405).Z},r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"deptSelect"},[n("mescroll-body",{ref:"mescrollRef",attrs:{down:{use:!1},up:{use:!1},bottombar:!1},on:{init:function(e){arguments[0]=e=t.$handleEvent(e),t.mescrollInit.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"nav"},[n("u-scroll-list",{attrs:{indicator:!1}},t._l(t.navList,(function(e,i){return n("v-uni-view",{key:e.id,staticClass:"nav-item",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.clickNav(e,i)}}},[t.activeNavId==e.id?[n("u--text",{attrs:{type:"primary",text:e.name}}),n("u-icon",{attrs:{name:"arrow-right",color:"#3c9cff",size:"14"}})]:[n("u--text",{attrs:{type:"info",text:e.name}}),n("u-icon",{attrs:{name:"arrow-right",color:"#909399",size:"14"}})]],2)})),1)],1),t._l(t.deptList,(function(e){return n("u-cell",{key:e.organId,attrs:{title:e.organName,isLink:!0,size:"large"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.clickDept(e)}}},[n("v-uni-view",{attrs:{slot:"value"},slot:"value"},[t._v(t._s(e.total))])],1)})),t._l(t.teacherList,(function(e,i){return n("v-uni-view",{key:e.uid,staticClass:"list-cell"},[n("u-cell",{attrs:{title:e.userName,label:e.organName,clickable:!0},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.goTeacherDetail(e)}}},[e.avatar?n("u-avatar",{attrs:{slot:"icon",shape:"square",src:e.avatar},slot:"icon"}):n("u-avatar",{attrs:{slot:"icon",shape:"square",text:e.userName&&e.userName.slice(0,1),"bg-color":"#009ad6"},slot:"icon"})],1)],1)})),t.loading||0!=t.deptList.length||0!=t.teacherList.length?t._e():n("u-empty",{attrs:{marginTop:"50",icon:"https://www.junhengyun.cn/cdn/wechat/image/mescroll-empty.png",text:"空空如也"}})],2)],1)},o=[],s=n(66407),u=n(4587),c=n(41541),l=(n(89730),n(50886),n(76801),n(43843),n(70560),n(38077),n(60228),n(34338),n(80843)),d=n(90761),p={mixins:[d.Z],components:{},data:function(){return{activeNavId:"",navList:[],deptList:[],teacherList:[],loading:!1}},computed:(0,c.Z)({},(0,l.mapState)(["userInfo"])),onLoad:function(){var t=this;return(0,u.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.activeNavId=t.userInfo.organizationId,t.navList=[{id:t.userInfo.organizationId,name:t.userInfo.organizationName}],t.$nextTick((function(){t.mescroll.resetUpScroll(!0)})),t.getOrgans();case 4:case"end":return e.stop()}}),e)})))()},methods:{getOrgans:function(t){var e=this;return(0,u.Z)((0,s.Z)().mark((function n(){var i,a;return(0,s.Z)().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.loading=!0,i=[],a=[],n.next=5,e.$api.address.getOrgans(e.userInfo.organizationId,{organId:t}).then((function(t){i=t||[]}));case 5:return n.next=7,e.$api.address.getTeacherList({organizationId:e.userInfo.organizationId,organId:e.activeNavId,organType:2}).then((function(t){a=t||[]}));case 7:e.deptList=i,e.teacherList=a,e.loading=!1;case 10:case"end":return n.stop()}}),n)})))()},clickNav:function(t,e){t&&(this.activeNavId=t.id,this.navList=this.navList.slice(0,e+1),this.getOrgans(t.id))},clickDept:function(t){if(t){var e=this.navList.map((function(t){return t.id}));e.includes(t.organId)||(this.activeNavId=t.organId,this.getOrgans(t.organId),this.navList.push({id:t.organId,name:t.organName}))}},cancelDept:function(){this.$emit("close")},confirmDept:function(){var t=this,e=this.navList.filter((function(e){return e.id==t.activeNavId}));e&&e.length>0&&this.$emit("confirm",e[0]),this.$emit("close")},goTeacherDetail:function(t){uni.navigateTo({url:"/pages_address/pages/personDetail?type=1&uid=".concat(t.uid,"&organizationId=").concat(this.userInfo.organizationId)})}}},f=p,m=(n(21885),n(61864),n(69453)),v=(0,m.Z)(f,r,o,!1,null,"d18c757e",null,!1,a,i),g=v.exports},8405:function(t,e,n){"use strict";n.d(e,{Z:function(){return p}});var i,a={uIcon:n(28317).Z},r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("v-uni-view",{staticClass:"u-empty",style:[t.emptyStyle]},[t.isSrc?n("v-uni-image",{style:{width:t.$u.addUnit(t.width),height:t.$u.addUnit(t.height)},attrs:{src:t.icon,mode:"widthFix"}}):n("u-icon",{attrs:{name:"message"===t.mode?"chat":"empty-"+t.mode,size:t.iconSize,color:t.iconColor,"margin-top":"14"}}),n("v-uni-text",{staticClass:"u-empty__text",style:[t.textStyle]},[t._v(t._s(t.text?t.text:t.icons[t.mode]))]),t.$slots.default||t.$slots.$default?n("v-uni-view",{staticClass:"u-empty__wrap"},[t._t("default")],2):t._e()],1):t._e()},o=[],s=(n(97195),n(79288),{props:{icon:{type:String,default:uni.$u.props.empty.icon},text:{type:String,default:uni.$u.props.empty.text},textColor:{type:String,default:uni.$u.props.empty.textColor},textSize:{type:[String,Number],default:uni.$u.props.empty.textSize},iconColor:{type:String,default:uni.$u.props.empty.iconColor},iconSize:{type:[String,Number],default:uni.$u.props.empty.iconSize},mode:{type:String,default:uni.$u.props.empty.mode},width:{type:[String,Number],default:uni.$u.props.empty.width},height:{type:[String,Number],default:uni.$u.props.empty.height},show:{type:Boolean,default:uni.$u.props.empty.show},marginTop:{type:[String,Number],default:uni.$u.props.empty.marginTop}}}),u={name:"u-empty",mixins:[uni.$u.mpMixin,uni.$u.mixin,s],data:function(){return{icons:{car:"购物车为空",page:"页面不存在",search:"没有搜索结果",address:"没有收货地址",wifi:"没有WiFi",order:"订单为空",coupon:"没有优惠券",favor:"暂无收藏",permission:"无权限",history:"无历史记录",news:"无新闻列表",message:"消息列表为空",list:"列表为空",data:"数据为空",comment:"暂无评论"}}},computed:{emptyStyle:function(){var t={};return t.marginTop=uni.$u.addUnit(this.marginTop),uni.$u.deepMerge(uni.$u.addStyle(this.customStyle),t)},textStyle:function(){var t={};return t.color=this.textColor,t.fontSize=uni.$u.addUnit(this.textSize),t},isSrc:function(){return this.icon.indexOf("/")>=0}}},c=u,l=(n(78633),n(69453)),d=(0,l.Z)(c,r,o,!1,null,"6fa087a0",null,!1,a,i),p=d.exports},87725:function(t,e,n){"use strict";n.r(e);var i=n(8081),a=n.n(i),r=n(23645),o=n.n(r),s=o()(a());s.push([t.id,'@charset "UTF-8";\n/* uview 颜色变量 */.deptSelect .u-avatar[data-v-d18c757e]{margin-right:%?20?%}.deptSelect .u-icon[data-v-d18c757e]{margin-top:%?2?%}',""]),e["default"]=s},50531:function(t,e,n){"use strict";n.r(e);var i=n(8081),a=n.n(i),r=n(23645),o=n.n(r),s=o()(a());s.push([t.id,'@charset "UTF-8";\n/* uview 颜色变量 */.deptSelect[data-v-d18c757e]{background:#fff}.deptSelect .nav[data-v-d18c757e]{padding:%?30?% %?10?% %?0?%}.deptSelect .nav .nav-item[data-v-d18c757e]{display:flex;align-items:center;margin-left:%?20?%}.deptSelect .btn[data-v-d18c757e]{padding:%?20?% %?30?% %?30?%;width:100vw;position:fixed;bottom:0;z-index:99;background:#fff;display:flex;justify-content:space-between}.deptSelect .btn[data-v-d18c757e]  .u-button{width:%?320?%}',""]),e["default"]=s},65372:function(t,e,n){"use strict";n.r(e);var i=n(8081),a=n.n(i),r=n(23645),o=n.n(r),s=o()(a());s.push([t.id,'@charset "UTF-8";\n/* uview 颜色变量 */uni-view[data-v-6fa087a0], uni-scroll-view[data-v-6fa087a0], uni-swiper-item[data-v-6fa087a0]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-empty[data-v-6fa087a0]{display:flex;flex-direction:row;flex-direction:column;justify-content:center;align-items:center}.u-empty__text[data-v-6fa087a0]{display:flex;flex-direction:row;justify-content:center;align-items:center;margin-top:%?20?%}.u-slot-wrap[data-v-6fa087a0]{display:flex;flex-direction:row;justify-content:center;align-items:center;margin-top:%?20?%}',""]),e["default"]=s}}]);