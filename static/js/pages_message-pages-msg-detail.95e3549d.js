(self["webpackChunkproject_v2"]=self["webpackChunkproject_v2"]||[]).push([[478,8972],{87015:function(e,i,t){var n=t(30649);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var a=t(56).Z;a("7398c04d",n,!0,{sourceMap:!1,shadowMode:!1})},89664:function(e,i,t){var n=t(46797);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var a=t(56).Z;a("372a8aea",n,!0,{sourceMap:!1,shadowMode:!1})},94377:function(e,i,t){var n=t(13603);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var a=t(56).Z;a("6b51732e",n,!0,{sourceMap:!1,shadowMode:!1})},70861:function(e,i,t){"use strict";t.r(i),t.d(i,{default:function(){return p}});var n,a={uIcon:t(28317).Z,uDivider:t(15354).Z,uParse:t(86865).Z,uButton:t(47423).Z},l=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("v-uni-view",{staticClass:"container"},[e.hasDel?t("v-uni-view",{staticClass:"hasDel"},[t("v-uni-view",{staticClass:"del-content"},[t("u-icon",{attrs:{name:"info-circle-fill",size:"100",color:"#FFC301"}}),t("v-uni-view",{staticClass:"del-title"},[e._v("该条公告已删除")])],1)],1):[t("v-uni-view",{staticClass:"body"},[t("v-uni-view",{staticClass:"head"},[t("v-uni-view",{staticClass:"title"},[e._v(e._s(e.info.title))]),t("v-uni-view",{staticClass:"column-1"},[t("v-uni-view",{staticClass:"name"},[e._v("通知类型:"),t("v-uni-text",{staticClass:"value"},[e._v(e._s(e.info.typeName))])],1),t("v-uni-view",{staticClass:"name"},[e._v("发布人:"),t("v-uni-text",{staticClass:"value"},[e._v(e._s(e.info.publishName))])],1)],1),t("v-uni-view",{staticClass:"column-1"},[t("v-uni-view",{staticClass:"name"},[t("u-icon",{attrs:{name:"clock",size:"14"}}),t("v-uni-text",{staticClass:"value"},[e._v(e._s(e.clickDateDiff(e.info.publishTime)))])],1),t("v-uni-view",{staticClass:"name"},[t("u-icon",{attrs:{name:"eye",size:"14"}}),t("v-uni-text",{staticClass:"value",staticStyle:{color:"#19be6b"}},[e._v(e._s(e.info.seeTimes))])],1)],1)],1),t("u-divider"),t("v-uni-view",{staticClass:"content"},[t("u-parse",{attrs:{content:e.info.content}})],1),t("u-divider"),e.info.fileList&&e.info.fileList.length?t("v-uni-view",{staticClass:"files"},[t("v-uni-view",{staticClass:"count"},[e._v("附件("+e._s(e.info.fileList.length||0)+")")]),t("v-uni-view",{staticClass:"upload"},e._l(e.info.fileList,(function(i,n){return t("v-uni-view",{key:i.id,staticClass:"upload-item"},["image"==e.formatFile(i.fileExt)?t("img",{attrs:{src:i.path},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.previewFile(i,e.info.fileList)}}}):"doc"===e.formatFile(i.fileExt)?t("img",{attrs:{src:e.$base.staticUrl+"/image/file-word.png"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.previewFile(i,e.info.fileList)}}}):"xls"===e.formatFile(i.fileExt)?t("img",{attrs:{src:e.$base.staticUrl+"/image/file-excel.png"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.previewFile(i,e.info.fileList)}}}):"ppt"===e.formatFile(i.fileExt)?t("img",{attrs:{src:e.$base.staticUrl+"/image/file-ppt.png"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.previewFile(i,e.info.fileList)}}}):"pdf"===e.formatFile(i.fileExt)?t("img",{attrs:{src:e.$base.staticUrl+"/image/file-pdf.png"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.previewFile(i,e.info.fileList)}}}):"video"===e.formatFile(i.fileExt)?t("img",{attrs:{src:e.$base.staticUrl+"/image/file-mp4.png"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.previewFile(i,e.info.fileList)}}}):"zip"===e.formatFile(i.fileExt)?t("img",{attrs:{src:e.$base.staticUrl+"/image/file-zip.png"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.previewFile(i,e.info.fileList)}}}):t("img",{attrs:{src:e.$base.staticUrl+"/image/file-other.png"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.previewFile(i,e.info.fileList)}}}),["image","video"].includes(e.formatFile(i.fileExt))?e._e():t("p",{staticClass:"upload-item-p",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.previewFile(i,e.info.fileList)}}},[e._v(e._s(i.fileName))])])})),1)],1):e._e(),1===e.info.needSign&&"manage"!=e.tabType&&"my"!=e.tabType?[0!=e.info.isSign?t("v-uni-view",{staticClass:"status"},[t("v-uni-image",{staticClass:"img",attrs:{src:e.$base.staticUrl+"/image/sign-finish.png "}})],1):e._e()]:e._e()],2),1===e.info.needSign&&"manage"!=e.tabType?t("v-uni-view",{staticClass:"footer"},[0===e.info.isSign?t("u-button",{staticStyle:{width:"160rpx"},attrs:{shape:"circle",icon:"edit-pen",type:"success",text:"签收"},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.ApiSign.apply(void 0,arguments)}}}):e._e()],1):e._e()]],2)},s=[],o=(t(50886),t(38077),t(60228),t(76801),t(30777)),r=t(4626),d={name:"MsgDetail",data:function(){return{id:"",studentId:"",info:{title:"",content:"",publishTime:"",publishName:"",fileList:[],needSign:0,isSign:0,typeName:"",tabType:""},hasDel:!1}},onLoad:function(e){var i=e.id,t=(e.userType,e.tabType),n=e.studentId;this.tabType=t,i&&(this.id=i,this.studentId=n||null,this.ApiMsgDetail())},methods:{formatFile:r.Zk,clickDateDiff:o.xd,ApiSign:function(){this.$api.message.msgSign(this.id,{receiveType:this.info.receiveType,studentId:this.studentId}).then((function(e){uni.$u.toast("签收成功"),uni.$u.sleep(1500).then((function(){uni.navigateTo({url:"/pages_message/pages/index"})}))}))},ApiMsgDetail:function(){var e=this;this.$api.message.msgDetail(this.id,{studentId:this.studentId}).then((function(i){i&&i.title?(e.hasDel=!1,e.info.title=i.title||"",e.info.content=i.content||"",e.info.publishTime=i.publishTime||"",e.info.publishName=i.publishName||"",e.info.fileList=i.fileList||[],e.info.needSign=i.needSign||0,e.info.typeName=i.typeName||"",e.info.isSign=i.isSign||0,e.info.seeTimes=i.seeTimes||0,e.info.receiveType=i.receiveType):e.hasDel=!0}))},previewFile:function(e,i){var t=this;if(!e)return uni.$u.toast("文件不存在");if("image"===this.formatFile(e.fileExt)){var n=i.filter((function(e){return"image"==t.formatFile(e.fileExt)})).map((function(e){return e.path}));uni.previewImage({current:e.path,urls:n})}else if(["doc","xls","ppt","pdf","zip"].includes(this.formatFile(e.fileExt))){if(!e.wpsUrl)return uni.$u.toast("wpsUrl不存在");getApp().globalData.webviewUrl=e.wpsUrl,getApp().globalData.webviewTitle=e.fileName,getApp().globalData.webviewType="iframe",uni.navigateTo({url:"/pages_common/pages/webview"})}else if(["video"].includes(this.formatFile(e.fileExt))){if(!e.path)return uni.$u.toast("视频url不存在");getApp().globalData.webviewTitle=e.fileName,getApp().globalData.videoUrl=e.path,getApp().globalData.webviewType="video",uni.navigateTo({url:"/pages_common/pages/webview"})}else uni.$u.toast("不支持该文件格式预览")}}},u=d,c=(t(87015),t(69453)),f=(0,c.Z)(u,l,s,!1,null,"782f1d78",null,!1,a,n),p=f.exports},15354:function(e,i,t){"use strict";t.d(i,{Z:function(){return f}});var n,a={uLine:t(49573).Z},l=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("v-uni-view",{staticClass:"u-divider",style:[e.$u.addStyle(e.customStyle)],on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.click.apply(void 0,arguments)}}},[t("u-line",{attrs:{color:e.lineColor,customStyle:e.leftLineStyle,hairline:e.hairline,dashed:e.dashed}}),e.dot?t("v-uni-text",{staticClass:"u-divider__dot"},[e._v("●")]):e.text?t("v-uni-text",{staticClass:"u-divider__text",style:[e.textStyle]},[e._v(e._s(e.text))]):e._e(),t("u-line",{attrs:{color:e.lineColor,customStyle:e.rightLineStyle,hairline:e.hairline,dashed:e.dashed}})],1)},s=[],o=(t(79288),{props:{dashed:{type:Boolean,default:uni.$u.props.divider.dashed},hairline:{type:Boolean,default:uni.$u.props.divider.hairline},dot:{type:Boolean,default:uni.$u.props.divider.dot},textPosition:{type:String,default:uni.$u.props.divider.textPosition},text:{type:[String,Number],default:uni.$u.props.divider.text},textSize:{type:[String,Number],default:uni.$u.props.divider.textSize},textColor:{type:String,default:uni.$u.props.divider.textColor},lineColor:{type:String,default:uni.$u.props.divider.lineColor}}}),r={name:"u-divider",mixins:[uni.$u.mpMixin,uni.$u.mixin,o],computed:{textStyle:function(){var e={};return e.fontSize=uni.$u.addUnit(this.textSize),e.color=this.textColor,e},leftLineStyle:function(){var e={};return"left"===this.textPosition?e.width="80rpx":e.flex=1,e},rightLineStyle:function(){var e={};return"right"===this.textPosition?e.width="80rpx":e.flex=1,e}},methods:{click:function(){this.$emit("click")}}},d=r,u=(t(89664),t(69453)),c=(0,u.Z)(d,l,s,!1,null,"a0cad060",null,!1,a,n),f=c.exports},49573:function(e,i,t){"use strict";var n;t.d(i,{Z:function(){return f}});var a,l=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("v-uni-view",{staticClass:"u-line",style:[e.lineStyle]})},s=[],o=(t(79288),{props:{color:{type:String,default:uni.$u.props.line.color},length:{type:[String,Number],default:uni.$u.props.line.length},direction:{type:String,default:uni.$u.props.line.direction},hairline:{type:Boolean,default:uni.$u.props.line.hairline},margin:{type:[String,Number],default:uni.$u.props.line.margin},dashed:{type:Boolean,default:uni.$u.props.line.dashed}}}),r={name:"u-line",mixins:[uni.$u.mpMixin,uni.$u.mixin,o],computed:{lineStyle:function(){var e={};return e.margin=this.margin,"row"===this.direction?(e.borderBottomWidth="1px",e.borderBottomStyle=this.dashed?"dashed":"solid",e.width=uni.$u.addUnit(this.length),this.hairline&&(e.transform="scaleY(0.5)")):(e.borderLeftWidth="1px",e.borderLeftStyle=this.dashed?"dashed":"solid",e.height=uni.$u.addUnit(this.length),this.hairline&&(e.transform="scaleX(0.5)")),e.borderColor=this.color,uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))}}},d=r,u=(t(94377),t(69453)),c=(0,u.Z)(d,l,s,!1,null,"2f0e5305",null,!1,n,a),f=c.exports},23156:function(e,i){"use strict";i.Z={props:{lang:String,sessionFrom:String,sendMessageTitle:String,sendMessagePath:String,sendMessageImg:String,showMessageCard:Boolean,appParameter:String,formType:String,openType:String}}},17006:function(e,i){"use strict";i.Z={props:{openType:String},methods:{onGetUserInfo:function(e){this.$emit("getuserinfo",e.detail)},onContact:function(e){this.$emit("contact",e.detail)},onGetPhoneNumber:function(e){this.$emit("getphonenumber",e.detail)},onError:function(e){this.$emit("error",e.detail)},onLaunchApp:function(e){this.$emit("launchapp",e.detail)},onOpenSetting:function(e){this.$emit("opensetting",e.detail)}}}},30649:function(e,i,t){"use strict";t.r(i);var n=t(8081),a=t.n(n),l=t(23645),s=t.n(l),o=s()(a());o.push([e.id,'@charset "UTF-8";\n/* uview 颜色变量 */.container[data-v-782f1d78]{display:flex;flex-direction:row;flex-direction:column;padding:%?20?%;background-color:#fff;min-height:100%}.container .hasDel[data-v-782f1d78]{height:100%;display:flex;flex-direction:row;margin-top:40%;justify-content:center;flex:1}.container .hasDel .del-content[data-v-782f1d78]{display:flex;flex-direction:row;align-items:center;flex-direction:column}.container .hasDel .del-content .del-title[data-v-782f1d78]{margin-top:%?30?%;font-size:20px}.container .body[data-v-782f1d78]{flex:1;padding-bottom:%?120?%;background-color:#fff;position:relative}.container .body .head[data-v-782f1d78]{font-size:var(--fs3);color:#999;line-height:%?40?%}.container .body .head .title[data-v-782f1d78]{color:#000;font-size:20px;line-height:%?50?%;font-weight:700;margin-bottom:%?20?%}.container .body .head .column-1[data-v-782f1d78]{font-size:14px;display:flex;flex-direction:row;align-items:center;justify-content:space-between;margin-bottom:%?10?%}.container .body .head .column-1 .name[data-v-782f1d78]{flex:1;display:flex;flex-direction:row;align-items:center}.container .body .head .column-1 .name .value[data-v-782f1d78]{padding-left:%?10?%}.upload[data-v-782f1d78]{display:flex;flex-wrap:wrap}.upload .upload-item[data-v-782f1d78]{position:relative;padding:%?15?% %?20?%}.upload .upload-item img[data-v-782f1d78]{width:%?120?%;height:auto;object-fit:cover}.upload .upload-item[data-v-782f1d78]  .u-icon{position:absolute;top:%?0?%;right:%?-10?%}.upload .upload-item .upload-item-p[data-v-782f1d78]{width:%?120?%;font-size:%?20?%}.content[data-v-782f1d78]{padding-bottom:%?40?%;line-height:%?60?%;word-wrap:break-word}.status[data-v-782f1d78]{position:absolute;top:%?70?%;right:0;z-index:100;width:%?100?%;height:%?100?%}.status .img[data-v-782f1d78]{width:100%;height:100%;display:inline-block}.footer[data-v-782f1d78]{position:fixed;bottom:0;left:0;right:0;height:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;padding-bottom:%?60?%}.footer .btn[data-v-782f1d78]{display:flex;flex-direction:row;align-items:center}',""]),i["default"]=o},46797:function(e,i,t){"use strict";t.r(i);var n=t(8081),a=t.n(n),l=t(23645),s=t.n(l),o=s()(a());o.push([e.id,'@charset "UTF-8";\n/* uview 颜色变量 */uni-view[data-v-a0cad060], uni-scroll-view[data-v-a0cad060], uni-swiper-item[data-v-a0cad060]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-divider[data-v-a0cad060]{display:flex;flex-direction:row;flex-direction:row;align-items:center;margin:15px 0}.u-divider__text[data-v-a0cad060]{margin:0 15px}.u-divider__dot[data-v-a0cad060]{font-size:12px;margin:0 12px;color:#c0c4cc}',""]),i["default"]=o},13603:function(e,i,t){"use strict";t.r(i);var n=t(8081),a=t.n(n),l=t(23645),s=t.n(l),o=s()(a());o.push([e.id,'@charset "UTF-8";\n/* uview 颜色变量 */uni-view[data-v-2f0e5305], uni-scroll-view[data-v-2f0e5305], uni-swiper-item[data-v-2f0e5305]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-line[data-v-2f0e5305]{vertical-align:middle}',""]),i["default"]=o}}]);