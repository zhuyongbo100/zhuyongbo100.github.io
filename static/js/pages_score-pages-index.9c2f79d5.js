(self["webpackChunkproject_v2"]=self["webpackChunkproject_v2"]||[]).push([[5637],{95139:function(e,t,a){var i=a(74158);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);var n=a(56).Z;n("651a4c90",i,!0,{sourceMap:!1,shadowMode:!1})},39926:function(e,t,a){var i=a(83748);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);var n=a(56).Z;n("0c962651",i,!0,{sourceMap:!1,shadowMode:!1})},33655:function(e,t,a){var i=a(43743);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);var n=a(56).Z;n("03446d70",i,!0,{sourceMap:!1,shadowMode:!1})},41193:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var i,n={uSearch:a(21715).Z,uIcon:a(28317).Z,uButton:a(47423).Z,mescrollBody:a(40398).Z,uTag:a(71509).Z,uPicker:a(59633).Z},r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"scoreIndex"},[a("v-uni-view",{staticClass:"body"},[a("v-uni-view",{staticClass:"search"},[a("u-search",{attrs:{height:"36",placeholder:"请输入考试名称",showAction:!1},on:{search:function(t){arguments[0]=t=e.$handleEvent(t),e.search.apply(void 0,arguments)},clear:function(t){arguments[0]=t=e.$handleEvent(t),e.search.apply(void 0,arguments)}},model:{value:e.listQuery.examName,callback:function(t){e.$set(e.listQuery,"examName",t)},expression:"listQuery.examName"}})],1),4!==e.userType?a("v-uni-view",{staticClass:"grade"},[a("v-uni-view",{staticClass:"item"},[a("v-uni-view",{staticClass:"select-item",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.item1Modal=!0}}},[a("v-uni-text",[e._v(e._s(e.item1Name))]),a("v-uni-view",{staticClass:"icon"},[a("u-icon",{attrs:{name:"arrow-down",size:"14",color:"#303133"}})],1)],1)],1),a("v-uni-view",{staticClass:"item"},[a("v-uni-view",{staticClass:"select-item",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.item1Modal=!0}}},[a("v-uni-text",[e._v(e._s(e.item2Name))]),a("v-uni-view",{staticClass:"icon"},[a("u-icon",{attrs:{name:"arrow-down",size:"14",color:"#303133"}})],1)],1)],1),a("v-uni-view",{staticClass:"reset"},[a("u-button",{attrs:{type:"info",text:"重置",plain:!0,size:"small"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.reset.apply(void 0,arguments)}}})],1)],1):e._e(),a("mescroll-body",{ref:"mescrollRef",attrs:{bottombar:!1},on:{init:function(t){arguments[0]=t=e.$handleEvent(t),e.mescrollInit.apply(void 0,arguments)},down:function(t){arguments[0]=t=e.$handleEvent(t),e.downCallback.apply(void 0,arguments)},up:function(t){arguments[0]=t=e.$handleEvent(t),e.upCallback.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"list"},e._l(e.list,(function(t,i){return a("v-uni-view",{key:i,staticClass:"list-item",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.goDetail(t)}}},[a("v-uni-view",{staticClass:"list-item-title"},[e._v(e._s(t.examName))]),4!==e.userType?a("v-uni-view",{staticClass:"list-item-process"},[a("v-uni-view",{staticClass:"list-item-p"},[a("p",[e._v(e._s(e.getGradeNameText(t)))]),a("p",[e._v("考试时间："+e._s(t.examTime))]),a("p",[a("span",[e._v(e._s(e.getGradeNumText(t)))]),a("span",{staticStyle:{"margin-left":"50rpx"}},[e._v("考试学生："+e._s(t.successStuNum))])])]),a("v-uni-view",[a("u-tag",{attrs:{text:"查看成绩"},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.goTableScore(t)}}})],1)],1):a("v-uni-view",{staticClass:"list-item-process"},[a("v-uni-view",{staticClass:"list-item-p"},[a("p",[e._v(e._s(e.selectedStudent.name))]),a("p",[e._v("考试时间："+e._s(t.examTime))])]),a("v-uni-view",[a("u-tag",{attrs:{text:"查看成绩单"},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.goStudentScore(t)}}})],1)],1)],1)})),1)],1)],1),a("u-picker",{ref:"uPicker",attrs:{show:e.item1Modal,defaultIndex:e.defaultIndex1,columns:e.item1List},on:{confirm:function(t){arguments[0]=t=e.$handleEvent(t),e.selectItem1.apply(void 0,arguments)},change:function(t){arguments[0]=t=e.$handleEvent(t),e.changeHandler1.apply(void 0,arguments)},cancel:function(t){arguments[0]=t=e.$handleEvent(t),e.item1Modal=!1}}})],1)},s=[],o=a(66407),c=a(4587),l=a(41541),u=(a(50886),a(34338),a(64043),a(61514),a(60228),a(76265),a(38077),a(80843)),d=a(90761),p={mixins:[d.Z],data:function(){return{info:{},item1Name:"全部年级",item1Modal:!1,item2Name:"全部班级",item1List:[],column1Data:[],defaultIndex1:[],gradeTree:[],listQuery:{examName:"",gradeId:"",classId:""},list:[]}},computed:(0,l.Z)((0,l.Z)((0,l.Z)({},(0,u.mapState)(["userInfo","studentInfo","appType","courseRelation","wxInfo","currentYear"])),(0,u.mapGetters)(["selectedStudent","isLogin"])),{},{userType:function(){return 3==this.appType?1:2==this.appType?this.info&&this.info.njzr?2:3:1==this.appType?4:void 0}}),onLoad:function(){var e=this;return(0,c.Z)((0,o.Z)().mark((function t(){return(0,o.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(4==e.userType){t.next=5;break}return t.next=3,e.ApiIsNjzr();case 3:return t.next=5,e.getGradeClass();case 5:e.$nextTick((function(){e.query()}));case 6:case"end":return t.stop()}}),t)})))()},methods:{ApiIsNjzr:function(){var e=this;return(0,c.Z)((0,o.Z)().mark((function t(){return(0,o.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",e.$api.message.isNjz(e.userInfo.organizationId,e.userInfo.uid).then((function(t){e.info=t})));case 1:case"end":return t.stop()}}),t)})))()},getGradeClass:function(){var e=this;return(0,c.Z)((0,o.Z)().mark((function t(){var a,i,n,r;return(0,o.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(1!=e.userType){t.next=2;break}return t.abrupt("return",e.$api.base.classTree(e.userInfo.organizationId).then((function(t){var a=(t||[]).map((function(e){return e.name}));e.column1Data=[["全部班级"]].concat((t||[]).map((function(e){return["全部班级"].concat((e.children||[]).map((function(e){return e.name})))}))),e.item1List=[["全部年级"].concat(a),e.column1Data[0]],e.gradeTree=t})));case 2:if(2!=e.userType){t.next=7;break}if(a=e.info.njzrInfo,!a||!a.gradeList){t.next=7;break}return i=a.gradeList.map((function(e){return e.XX_NJXX_ID})),t.abrupt("return",e.$api.base.classTree(e.userInfo.organizationId,{xxNjxxId:i.join(",")}).then((function(t){var a=(t||[]).map((function(e){return e.name}));e.column1Data=[["全部班级"]].concat((t||[]).map((function(e){return["全部班级"].concat((e.children||[]).map((function(e){return e.name})))}))),e.item1List=[["全部年级"].concat(a),e.column1Data[0]],e.gradeTree=t})));case 7:if(3!=e.userType){t.next=12;break}if(!(e.courseRelation&&e.courseRelation.length>0)){t.next=12;break}return n=e.courseRelation.map((function(e){return e.njId}))||[],r=e.courseRelation.map((function(e){return e.bjId}))||[],t.abrupt("return",e.$api.base.classTree(e.userInfo.organizationId,{xxNjxxId:n.join(","),xxBjxxIds:r.join(",")}).then((function(t){var a=(t||[]).map((function(e){return e.name}));e.column1Data=[["全部班级"]].concat((t||[]).map((function(e){return["全部班级"].concat((e.children||[]).map((function(e){return e.name})))}))),e.item1List=[["全部年级"].concat(a),e.column1Data[0]],e.gradeTree=t})));case 12:case"end":return t.stop()}}),t)})))()},selectItem1:function(e){var t=e.indexs,a=e.value;0===t[0]?this.listQuery.gradeId="":this.listQuery.gradeId=this.gradeTree[t[0]-1].xjnjdm,0===t[1]?this.listQuery.classId="":this.listQuery.classId=this.gradeTree[t[0]-1].children[t[1]-1].id,this.item1Name=a[0],this.item2Name=a[1],this.item1Modal=!1,this.search()},changeHandler1:function(e){var t=e.columnIndex,a=(e.value,e.values,e.index),i=e.indexs,n=e.picker,r=void 0===n?this.$refs.uPicker:n,s=a;0===t&&(i&&i.length>0&&(s=i[0]),r.setColumnValues(1,this.column1Data[s]),this.defaultIndex1=[s,0])},query:function(){var e=this;return(0,c.Z)((0,o.Z)().mark((function t(){return(0,o.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.mescroll.resetUpScroll(!0);case 1:case"end":return t.stop()}}),t)})))()},downCallback:function(){this.mescroll.resetUpScroll(!0)},upCallback:function(e){4==this.userType?this.getStudentExamList():this.getTeacherExamList()},getTeacherExamList:function(){var e=this,t={schoolYearId:this.currentYear.schoolYearId,termId:this.currentYear.termId,examName:this.listQuery.examName};if(1!=this.userType&&2!=this.userType||(this.listQuery.classId?t.classIds=[].concat(this.listQuery.classId):this.listQuery.gradeId?t.gradeIds=[].concat(this.listQuery.gradeId):this.gradeTree&&this.gradeTree.length>0&&(t.gradeIds=this.gradeTree.map((function(e){return e.xjnjdm})))),3==this.userType)if(this.listQuery.classId)t.classIds=[].concat(this.listQuery.classId);else if(this.listQuery.gradeId){if(this.courseRelation&&this.courseRelation.length>0){var a=this.courseRelation.filter((function(t){return t.gradeId==e.listQuery.gradeId}))||[];a&&a.length>0&&(t.classIds=a.map((function(e){return e.bjId}))||[])}}else this.courseRelation&&this.courseRelation.length>0&&(t.classIds=this.courseRelation.map((function(e){return e.bjId})));this.$api.score.getExamListByTeacher(this.userInfo.organizationId,this.userType,t).then((function(t){e.list=t||[],e.mescroll.endSuccess(e.list.length,!1)})).catch((function(){e.mescroll.endErr()}))},getStudentExamList:function(){var e=this;this.$api.score.getExamListByStudent(this.userInfo.organizationId,this.selectedStudent.xsId,{examName:this.listQuery.examName}).then((function(t){e.list=t||[],e.mescroll.endSuccess(e.list.length,!1)})).catch((function(){e.mescroll.endErr()}))},search:function(){this.mescroll.resetUpScroll(!1)},reset:function(){this.item1Name="全部年级",this.item2Name="全部班级",this.listQuery={examName:"",gradeId:"",classId:""},this.search()},getGradeNameText:function(e){return e.className?e.className:e.gradeName},getGradeNumText:function(e){return e.className?"班级学生：".concat(e.classNums):"年级学生：".concat(e.gradeStuNum)},goTableScore:function(e){var t=e.examName;e.className?t+="（".concat(e.className,"）"):t+="（".concat(e.gradeName,"）"),e.classId?uni.navigateTo({url:"/pages_score/pages/tableScore?examId=".concat(e.examId,"&examName=").concat(t,"&classId=").concat(e.classId)}):uni.navigateTo({url:"/pages_score/pages/tableScore?examId=".concat(e.examId,"&examName=").concat(t)})},goStudentScore:function(e){uni.navigateTo({url:"/pages_score/pages/studentScore?examId=".concat(e.examId,"&xsId=").concat(this.selectedStudent.xsId)})},goDetail:function(e){4==this.userType?this.goStudentScore(e):this.goTableScore(e)}}},f=p,g=(a(95139),a(39926),a(69453)),m=(0,g.Z)(f,r,s,!1,null,"23c2c8bb",null,!1,n,i),h=m.exports},71509:function(e,t,a){"use strict";a.d(t,{Z:function(){return p}});var i,n={uTransition:a(84843).Z,uIcon:a(28317).Z},r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("u-transition",{attrs:{mode:"fade",show:e.show}},[a("v-uni-view",{staticClass:"u-tag-wrapper"},[a("v-uni-view",{staticClass:"u-tag",class:["u-tag--"+e.shape,!e.plain&&"u-tag--"+e.type,e.plain&&"u-tag--"+e.type+"--plain","u-tag--"+e.size,e.plain&&e.plainFill&&"u-tag--"+e.type+"--plain--fill"],style:[{marginRight:e.closable?"10px":0,marginTop:e.closable?"10px":0},e.style],on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.clickHandler.apply(void 0,arguments)}}},[e._t("icon",[e.icon?a("v-uni-view",{staticClass:"u-tag__icon"},[e.$u.test.image(e.icon)?a("v-uni-image",{style:[e.imgStyle],attrs:{src:e.icon}}):a("u-icon",{attrs:{color:e.elIconColor,name:e.icon,size:e.iconSize}})],1):e._e()]),a("v-uni-text",{staticClass:"u-tag__text",class:["u-tag__text--"+e.type,e.plain&&"u-tag__text--"+e.type+"--plain","u-tag__text--"+e.size],style:[e.textColor]},[e._v(e._s(e.text))])],2),e.closable?a("v-uni-view",{staticClass:"u-tag__close",class:["u-tag__close--"+e.size],style:{backgroundColor:e.closeColor},on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.closeHandler.apply(void 0,arguments)}}},[a("u-icon",{attrs:{name:"close",size:e.closeSize,color:"#ffffff"}})],1):e._e()],1)],1)},s=[],o=(a(79288),{props:{type:{type:String,default:uni.$u.props.tag.type},disabled:{type:[Boolean,String],default:uni.$u.props.tag.disabled},size:{type:String,default:uni.$u.props.tag.size},shape:{type:String,default:uni.$u.props.tag.shape},text:{type:[String,Number],default:uni.$u.props.tag.text},bgColor:{type:String,default:uni.$u.props.tag.bgColor},color:{type:String,default:uni.$u.props.tag.color},borderColor:{type:String,default:uni.$u.props.tag.borderColor},closeColor:{type:String,default:uni.$u.props.tag.closeColor},name:{type:[String,Number],default:uni.$u.props.tag.name},plainFill:{type:Boolean,default:uni.$u.props.tag.plainFill},plain:{type:Boolean,default:uni.$u.props.tag.plain},closable:{type:Boolean,default:uni.$u.props.tag.closable},show:{type:Boolean,default:uni.$u.props.tag.show},icon:{type:String,default:uni.$u.props.tag.icon}}}),c={name:"u-tag",mixins:[uni.$u.mpMixin,uni.$u.mixin,o],data:function(){return{}},computed:{style:function(){var e={};return this.bgColor&&(e.backgroundColor=this.bgColor),this.color&&(e.color=this.color),this.borderColor&&(e.borderColor=this.borderColor),e},textColor:function(){var e={};return this.color&&(e.color=this.color),e},imgStyle:function(){var e="large"===this.size?"17px":"medium"===this.size?"15px":"13px";return{width:e,height:e}},closeSize:function(){var e="large"===this.size?15:"medium"===this.size?13:12;return e},iconSize:function(){var e="large"===this.size?21:"medium"===this.size?19:16;return e},elIconColor:function(){return this.iconColor?this.iconColor:this.plain?this.type:"#ffffff"}},methods:{closeHandler:function(){this.$emit("close",this.name)},clickHandler:function(){this.$emit("click",this.name)}}},l=c,u=(a(33655),a(69453)),d=(0,u.Z)(l,r,s,!1,null,"2cf78b47",null,!1,n,i),p=d.exports},23156:function(e,t){"use strict";t.Z={props:{lang:String,sessionFrom:String,sendMessageTitle:String,sendMessagePath:String,sendMessageImg:String,showMessageCard:Boolean,appParameter:String,formType:String,openType:String}}},17006:function(e,t){"use strict";t.Z={props:{openType:String},methods:{onGetUserInfo:function(e){this.$emit("getuserinfo",e.detail)},onContact:function(e){this.$emit("contact",e.detail)},onGetPhoneNumber:function(e){this.$emit("getphonenumber",e.detail)},onError:function(e){this.$emit("error",e.detail)},onLaunchApp:function(e){this.$emit("launchapp",e.detail)},onOpenSetting:function(e){this.$emit("opensetting",e.detail)}}}},74158:function(e,t,a){"use strict";a.r(t);var i=a(8081),n=a.n(i),r=a(23645),s=a.n(r),o=s()(n());o.push([e.id,'@charset "UTF-8";\n/* uview 颜色变量 */.scoreIndex .u-avatar[data-v-23c2c8bb]{margin-right:%?20?%}.scoreIndex .u-icon[data-v-23c2c8bb]{margin-top:%?2?%}',""]),t["default"]=o},83748:function(e,t,a){"use strict";a.r(t);var i=a(8081),n=a.n(i),r=a(23645),s=a.n(r),o=s()(n());o.push([e.id,'@charset "UTF-8";\n/* uview 颜色变量 */.scoreIndex[data-v-23c2c8bb]  .mescroll-upwarp{display:none!important}.scoreIndex .body .search[data-v-23c2c8bb]{padding:%?20?% %?20?% %?20?%}.scoreIndex .body .grade[data-v-23c2c8bb]{display:flex;justify-content:space-between;align-items:center;background-color:#fff;padding:%?20?% %?20?% %?20?%}.scoreIndex .body .grade .item[data-v-23c2c8bb]{width:%?240?%}.scoreIndex .body .grade .item .select-item[data-v-23c2c8bb]{display:flex;font-size:%?28?%;align-items:center;justify-content:flex-start;padding:%?8?% %?20?%}.scoreIndex .body .grade .item .icon[data-v-23c2c8bb]{padding-left:%?20?%}.scoreIndex .body .list[data-v-23c2c8bb]{padding:%?20?%}.scoreIndex .body .list .list-item[data-v-23c2c8bb]{border-radius:%?16?%;background:#fff;box-shadow:0 1px 25px 2px rgba(18,42,105,.06);padding:%?20?%;margin-bottom:%?20?%}.scoreIndex .body .list .list-item .list-item-title[data-v-23c2c8bb]{padding-left:%?10?%;font-size:%?32?%;font-weight:700}.scoreIndex .body .list .list-item .list-item-process[data-v-23c2c8bb]{margin-top:%?20?%;padding-left:%?10?%;display:flex;justify-content:space-between;align-items:flex-end}.scoreIndex .body .list .list-item .list-item-process .list-item-p[data-v-23c2c8bb]{font-size:%?28?%}.scoreIndex .body .list .list-item .list-item-process .list-item-p p[data-v-23c2c8bb]{line-height:%?50?%}',""]),t["default"]=o},43743:function(e,t,a){"use strict";a.r(t);var i=a(8081),n=a.n(i),r=a(23645),s=a.n(r),o=s()(n());o.push([e.id,'@charset "UTF-8";\n/* uview 颜色变量 */uni-view[data-v-2cf78b47], uni-scroll-view[data-v-2cf78b47], uni-swiper-item[data-v-2cf78b47]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-tag-wrapper[data-v-2cf78b47]{position:relative}.u-tag[data-v-2cf78b47]{display:flex;flex-direction:row;align-items:center;border-style:solid}.u-tag--circle[data-v-2cf78b47]{border-radius:100px}.u-tag--square[data-v-2cf78b47]{border-radius:3px}.u-tag__icon[data-v-2cf78b47]{margin-right:4px}.u-tag__text--mini[data-v-2cf78b47]{font-size:12px;line-height:12px}.u-tag__text--medium[data-v-2cf78b47]{font-size:13px;line-height:13px}.u-tag__text--large[data-v-2cf78b47]{font-size:15px;line-height:15px}.u-tag--mini[data-v-2cf78b47]{height:22px;line-height:22px;padding:0 5px}.u-tag--medium[data-v-2cf78b47]{height:26px;line-height:22px;padding:0 10px}.u-tag--large[data-v-2cf78b47]{height:32px;line-height:32px;padding:0 15px}.u-tag--primary[data-v-2cf78b47]{background-color:#3c9cff;border-width:1px;border-color:#3c9cff}.u-tag--primary--plain[data-v-2cf78b47]{border-width:1px;border-color:#3c9cff}.u-tag--primary--plain--fill[data-v-2cf78b47]{background-color:#ecf5ff}.u-tag__text--primary[data-v-2cf78b47]{color:#fff}.u-tag__text--primary--plain[data-v-2cf78b47]{color:#3c9cff}.u-tag--error[data-v-2cf78b47]{background-color:#f56c6c;border-width:1px;border-color:#f56c6c}.u-tag--error--plain[data-v-2cf78b47]{border-width:1px;border-color:#f56c6c}.u-tag--error--plain--fill[data-v-2cf78b47]{background-color:#fef0f0}.u-tag__text--error[data-v-2cf78b47]{color:#fff}.u-tag__text--error--plain[data-v-2cf78b47]{color:#f56c6c}.u-tag--warning[data-v-2cf78b47]{background-color:#f9ae3d;border-width:1px;border-color:#f9ae3d}.u-tag--warning--plain[data-v-2cf78b47]{border-width:1px;border-color:#f9ae3d}.u-tag--warning--plain--fill[data-v-2cf78b47]{background-color:#fdf6ec}.u-tag__text--warning[data-v-2cf78b47]{color:#fff}.u-tag__text--warning--plain[data-v-2cf78b47]{color:#f9ae3d}.u-tag--success[data-v-2cf78b47]{background-color:#5ac725;border-width:1px;border-color:#5ac725}.u-tag--success--plain[data-v-2cf78b47]{border-width:1px;border-color:#5ac725}.u-tag--success--plain--fill[data-v-2cf78b47]{background-color:#f5fff0}.u-tag__text--success[data-v-2cf78b47]{color:#fff}.u-tag__text--success--plain[data-v-2cf78b47]{color:#5ac725}.u-tag--info[data-v-2cf78b47]{background-color:#909399;border-width:1px;border-color:#909399}.u-tag--info--plain[data-v-2cf78b47]{border-width:1px;border-color:#909399}.u-tag--info--plain--fill[data-v-2cf78b47]{background-color:#f4f4f5}.u-tag__text--info[data-v-2cf78b47]{color:#fff}.u-tag__text--info--plain[data-v-2cf78b47]{color:#909399}.u-tag__close[data-v-2cf78b47]{position:absolute;z-index:999;top:10px;right:10px;border-radius:100px;background-color:#c6c7cb;display:flex;flex-direction:row;align-items:center;justify-content:center;-webkit-transform:scale(.6) translate(80%,-80%);transform:scale(.6) translate(80%,-80%)}.u-tag__close--mini[data-v-2cf78b47]{width:18px;height:18px}.u-tag__close--medium[data-v-2cf78b47]{width:22px;height:22px}.u-tag__close--large[data-v-2cf78b47]{width:25px;height:25px}',""]),t["default"]=o}}]);